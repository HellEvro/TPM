# üêõ –ò–°–ü–†–ê–í–õ–ï–ù–û: –°–ø–∞–º –ª–æ–≥–æ–≤ "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
–°–∏—Å—Ç–µ–º–∞ —Å–ø–∞–º–∏–ª–∞ –ª–æ–≥–∞–º–∏ –∫–∞–∂–¥—ã–µ 0.1 –º–∏–Ω—É—Ç—ã:
```
[Thread 46212] –ü—Ä–æ—à–ª–æ 619.7 –º–∏–Ω—É—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
[Thread 46212] –ü—Ä–æ—à–ª–æ 619.8 –º–∏–Ω—É—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
[Thread 46212] –ü—Ä–æ—à–ª–æ 619.9 –º–∏–Ω—É—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
...
```

## üîç **–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `background_update()` –≤ `app.py`:

**‚ùå –ë–´–õ–û:**
```python
# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (—Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã)
if should_send_stats:
    if last_stats_time is None:
        print(f"[Thread {thread_id}] –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
    else:
        minutes_passed = time_since_last / 60
        print(f"[Thread {thread_id}] –ü—Ä–æ—à–ª–æ {minutes_passed:.1f} –º–∏–Ω—É—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–æ–±—â–µ–Ω–∏—è –ø–µ—á–∞—Ç–∞–ª–∏—Å—å **–∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é —Ü–∏–∫–ª–∞** (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã), –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. `should_send_stats` –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
2. –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –±—ã–ª–æ `True`, —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—á–∞—Ç–∞–ª–æ—Å—å
3. –ù–æ `last_stats_time` –æ–±–Ω–æ–≤–ª—è–ª—Å—è —Ç–æ–ª—å–∫–æ **–ü–û–°–õ–ï** –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
4. –ü–æ–ª—É—á–∞–ª—Å—è —Å–ø–∞–º —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**

**‚úÖ –°–¢–ê–õ–û:**
```python
# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ Telegram —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
if should_send_stats:
    try:
        with stats_lock:
            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ)
            if last_stats_time is None:
                print(f"[Thread {thread_id}] –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
            else:
                minutes_passed = time_since_last / 60
                print(f"[Thread {thread_id}] –ü—Ä–æ—à–ª–æ {minutes_passed:.1f} –º–∏–Ω—É—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
            
            telegram.send_statistics(positions_data['stats'])
            last_stats_time = current_time
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ **–í–ù–£–¢–†–¨** –±–ª–æ–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —á—Ç–æ–±—ã —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—á–∞—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ.

## üìÅ **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `app.py` (—Å—Ç—Ä–æ–∫–∏ 226-233, 305-322)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å `InfoBot_Public/app.py`

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–±—Ä–∞–Ω —Å–ø–∞–º –ª–æ–≥–æ–≤ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –ø–µ—á–∞—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –õ–æ–≥–∏ —Å—Ç–∞–ª–∏ —á–∏—Å—Ç—ã–º–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏

## üß™ **–¢–µ—Å—Ç:**
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å–ø–∞–º —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å—Å—è.
