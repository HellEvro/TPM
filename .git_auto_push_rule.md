# Automatic Git Commit and Push Rule

## CRITICALLY IMPORTANT: Auto-commit and Push After Every Change

**MANDATORY behavior for ALL projects with Git repository:**

### When to commit and push:
- After completing any code changes (file edits, creations, deletions)
- After fixing linter errors
- After implementing features
- After refactoring code
- After making configuration changes
- Before moving to a new task or user request

### Automatic Git workflow process:

1. **Check for Git repository:**
   - Execute `git status` to verify Git is initialized
   - If Git is not initialized, skip this workflow (but initialize if needed per other rules)

2. **Check for changes:**
   - Execute `git status` to see modified, added, or deleted files
   - If there are no changes, skip commit and push

3. **Stage all changes:**
   - Execute `git add -A` to stage all changes (modified, new, and deleted files)
   - This ensures nothing is missed

4. **Create commit with meaningful message:**
   - **CRITICALLY IMPORTANT: All commit messages MUST be written in Russian language**
   - Generate a descriptive commit message in Russian based on the changes made
   - Use clear, concise Russian language describing what was changed and why
   - Format: "Краткое описание изменений" or "Действие: описание"
   - Examples:
     - "Исправление ошибок линтера в модуле аутентификации пользователей"
     - "Добавлена новая функция: страница настроек профиля пользователя"
     - "Рефакторинг обработки подключения к базе данных"
     - "Обновление зависимостей в requirements.txt"
     - "Удаление неиспользуемых импортов и переменных"
   - Execute `git commit -m "commit message in Russian"`

5. **Push to remote repository:**
   - Execute `git push` to push changes to remote
   - If branch tracking is not set, use `git push -u origin <branch-name>` or `git push origin HEAD`
   - Handle push errors gracefully (e.g., need to pull first, authentication issues)

6. **Handle conflicts and errors:**
   - If push fails due to remote changes, execute `git pull` first, then retry push
   - If authentication fails, inform user but continue with other tasks
   - If there are merge conflicts after pull, inform user and wait for resolution

### Commit message guidelines:
- **MANDATORY: All commit messages must be in Russian language**
- Use present tense in Russian ("Добавлена функция" not "Добавлена функция была")
- Be specific about what changed (in Russian)
- If multiple unrelated changes, create separate commits for each logical group
- Keep messages concise but descriptive (50-72 characters for first line if possible)
- Include context if needed (module name, file name, etc.)
- Examples of good Russian commit messages:
  - "Исправление ошибки в функции сохранения данных"
  - "Добавлена поддержка новой функции X"
  - "Рефакторинг модуля обработки сигналов"
  - "Обновление конфигурационных файлов"

### When NOT to auto-commit:
- If user explicitly asks to NOT commit (respect explicit requests)
- If there are uncommitted changes from previous work that user wants to review first
- If working on a feature branch and user wants to batch commits
- If repository is in a conflicted state that needs manual resolution

### Important notes:
- Always check git status before attempting commit/push
- Never force push (`git push --force`) unless user explicitly requests it
- Inform user when commit and push are successful
- If push fails, inform user with error details
- Continue with other tasks even if git operations fail (don't block workflow)
