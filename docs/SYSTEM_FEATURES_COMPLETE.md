# üîÑ –°–ò–°–¢–ï–ú–ù–´–ï –§–£–ù–ö–¶–ò–ò - –ü–û–õ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –∑—Ä–µ–ª–æ—Å—Ç—å –º–æ–Ω–µ—Ç, Hedge —Ä–µ–∂–∏–º, –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–∞–º–ø–æ–≤**

---

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π (3 —Å–µ–∫)](#—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è-–ø–æ–∑–∏—Ü–∏–π)
2. [–°—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∑—Ä–µ–ª–æ—Å—Ç–∏](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-–∑—Ä–µ–ª–æ—Å—Ç–∏)
3. [Hedge —Ä–µ–∂–∏–º](#hedge-—Ä–µ–∂–∏–º)
4. [–ó–∞—â–∏—Ç–∞ –æ—Ç –¥–∞–º–ø–æ–≤](#–∑–∞—â–∏—Ç–∞-–æ—Ç-–¥–∞–º–ø–æ–≤)
5. [–ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π](#–∑–∞–∫—Ä—ã—Ç–∏–µ-–ø–æ–∑–∏—Ü–∏–π)

---

## ‚ö° –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ü–û–ó–ò–¶–ò–ô (3 –°–ï–ö)

### –ë—ã—Å—Ç—Ä–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** 3 —Å–µ–∫—É–Ω–¥—ã
- **–ß—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è:** –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Å –±–∏—Ä–∂–∏
- **–ì–¥–µ:** Frontend ‚Üí Backend ‚Üí Exchange

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```javascript
// Frontend (bots_manager.js)
setInterval(() => {
    fetch('/api/bots/sync-positions', { method: 'POST' })
}, 3000)  // 3 —Å–µ–∫—É–Ω–¥—ã
```

### Backend:
```python
@app.route('/api/bots/sync-positions', methods=['POST'])
def sync_positions():
    result = sync_positions_with_exchange()
    return jsonify({'success': result})
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è PnL –∏ —Å—Ç–∞—Ç—É—Å–æ–≤

---

## üîí –°–¢–†–û–ì–ò–ï –ö–†–ò–¢–ï–†–ò–ò –ó–†–ï–õ–û–°–¢–ò

### –ü—Ä–æ–±–ª–µ–º–∞:
- –ù–µ–∑—Ä–µ–ª—ã–µ –º–æ–Ω–µ—Ç—ã (< 200 —Å–≤–µ—á–µ–π) –∏–º–µ—é—Ç –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- RSI –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (low + high) –Ω–µ–Ω–∞–¥–µ–∂–µ–Ω

### –†–µ—à–µ–Ω–∏–µ:
```python
# –°–¢–†–û–ì–ò–ô –∫—Ä–∏—Ç–µ—Ä–∏–π (–∏–∑–º–µ–Ω–µ–Ω–æ —Å OR –Ω–∞ AND)
is_mature = (
    candles >= 200 AND          # –ú–∏–Ω–∏–º—É–º 200 —Å–≤–µ—á–µ–π (6h)
    rsi_min <= 35 AND            # RSI –¥–æ—Å—Ç–∏–≥–∞–ª –Ω–∏–∑–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    rsi_max >= 65                # RSI –¥–æ—Å—Ç–∏–≥–∞–ª –≤—ã—Å–æ–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚ùå SERAPHUSDT –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–Ω–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ RSI)
- ‚úÖ BTC, ETH –ø—Ä–æ—Ö–æ–¥—è—Ç (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª RSI)

### –§–∞–π–ª:
```
data/mature_coins.json
```

---

## üîÑ HEDGE –†–ï–ñ–ò–ú

### –ß—Ç–æ —Ç–∞–∫–æ–µ Hedge:
- **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ LONG –∏ SHORT** –ø–æ –æ–¥–Ω–æ–π –º–æ–Ω–µ—Ç–µ
- **–•–µ–¥–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤** –ø—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Bybit Hedge Mode**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Bybit:
```
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ Bybit
2. Derivatives ‚Üí USDT Perpetual  
3. Settings ‚Üí Position Mode
4. –í—ã–±–µ—Ä–∏—Ç–µ "Hedge Mode"
```

### –õ–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏
existing_side = pos.get('side')  # LONG –∏–ª–∏ SHORT
expected_side = 'LONG' if signal == 'ENTER_LONG' else 'SHORT'

if existing_side == expected_side:
    ‚ùå –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å (–¥—É–±–ª–∏–∫–∞—Ç –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã)
else:
    ‚úÖ –†–∞–∑—Ä–µ—à–∏—Ç—å (–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ - Hedge)
```

### –ü—Ä–∏–º–µ—Ä—ã:
| –ù–∞ –±–∏—Ä–∂–µ | –°–∏–≥–Ω–∞–ª | –î–µ–π—Å—Ç–≤–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|--------|----------|-----------|
| LONG | LONG | ‚ùå –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å | LONG (–±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–∞) |
| LONG | SHORT | ‚úÖ –û—Ç–∫—Ä—ã—Ç—å SHORT | LONG + SHORT (Hedge) |
| SHORT | SHORT | ‚ùå –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å | SHORT (–±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–∞) |
| SHORT | LONG | ‚úÖ –û—Ç–∫—Ä—ã—Ç—å LONG | SHORT + LONG (Hedge) |

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –î–ê–ú–ü–û–í

### –ü—Ä–æ–±–ª–µ–º–∞:
- –ú–æ–Ω–µ—Ç—ã —Å **—Ä–µ–∑–∫–∏–º –ø–∞–¥–µ–Ω–∏–µ–º** (70%+) –∑–∞ –Ω–µ–¥–µ–ª—é
- –ü—Ä–∏–∑–Ω–∞–∫–∏ **—Å–∫–∞–º–∞** –∏–ª–∏ **–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π**
- **–í—ã—Ö–æ–¥ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏** –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–π

### –†–µ—à–µ–Ω–∏–µ:
```python
# –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 7 –¥–Ω–µ–π
max_dump_percent = 70.0  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ
dump_analysis_days = 7   # –î–Ω–µ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∞
if price_drop_percent > max_dump_percent:
    ‚ùå –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–µ—Ç—É
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```json
{
  "enable_dump_protection": true,
  "max_dump_percent": 70.0,
  "dump_analysis_days": 7
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚ùå SERAPHUSDT (–ø–∞–¥–µ–Ω–∏–µ 90%) ‚Üí –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ BTC (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è) ‚Üí —Ä–∞–∑—Ä–µ—à–µ–Ω–∞

---

## üéØ –ó–ê–ö–†–´–¢–ò–ï –ü–û–ó–ò–¶–ò–ô

### –ú–µ—Ç–æ–¥—ã –∑–∞–∫—Ä—ã—Ç–∏—è:

#### 1. –ü–æ RSI –≤—ã—Ö–æ–¥—É:
```python
# LONG ‚Üí –≤—ã—Ö–æ–¥ –ø—Ä–∏ RSI >= 65
# SHORT ‚Üí –≤—ã—Ö–æ–¥ –ø—Ä–∏ RSI <= 35
```

#### 2. –ü–æ —Å–º–µ–Ω–µ —Ç—Ä–µ–Ω–¥–∞:
```python
# LONG ‚Üí –≤—ã—Ö–æ–¥ –ø—Ä–∏ —Ç—Ä–µ–Ω–¥–µ DOWN
# SHORT ‚Üí –≤—ã—Ö–æ–¥ –ø—Ä–∏ —Ç—Ä–µ–Ω–¥–µ UP
```

#### 3. –ü–æ —Å—Ç–æ–ø-–ª–æ—Å—Å—É:
```python
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É–±—ã—Ç–æ–∫: 15%
max_loss_percent = 15.0
```

#### 4. –ü–æ –≤—Ä–µ–º–µ–Ω–∏:
```python
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ø–æ–∑–∏—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
max_position_hours = 24  # 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
```

### API:
```
POST /api/bots/close/<symbol>  # –ó–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é
```

---

## üéØ –ò–¢–û–ì

–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:
- ‚ö° **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
- üîí **–°—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É** –∑—Ä–µ–ª–æ—Å—Ç–∏ –º–æ–Ω–µ—Ç
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫—É Hedge** —Ä–µ–∂–∏–º–∞
- üõ°Ô∏è **–ó–∞—â–∏—Ç—É –æ—Ç –¥–∞–º–ø–æ–≤** (70%+ –ø–∞–¥–µ–Ω–∏–µ)
- üéØ **–£–º–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** –ø–æ–∑–∏—Ü–∏–π

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º!**
