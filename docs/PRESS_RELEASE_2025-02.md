# Пресс-релиз обновлений InfoBot
## Февраль 2025

---

## Для пользователей интерфейса (Trading Positions Monitor)

### ✅ Исправлено отображение активных ботов

**Проблема:** В правой панели показывалось «Нет активных ботов», хотя боты были запущены.

**Решение:** Добавлены недостающие маршруты прокси для API активных ботов и увеличен таймаут загрузки. Список ботов и детальная информация о них теперь корректно отображаются при работе через главный порт 5000.

---

### ✅ Работает таб «История ботов»

**Проблема:** При переключении на вкладку «История ботов» возникали ошибки 404 и «Unexpected token» из-за отсутствия маршрута `/api/bots/history`.

**Решение:** Добавлен прокси для загрузки истории действий ботов. Таб «История» и кнопки «Очистить историю» / «Демо-данные» работают корректно.

---

### ✅ Фильтр «Делистнутые монеты»

**Проблема:** Категория «Делистнутые монеты (0)» не загружалась, в консоли была ошибка 404.

**Решение:** Добавлен прокси для API делистинговых монет. Фильтр отображает актуальный список монет, снятых с торгов на бирже.

---

### ✅ Таб «Аналитика» и FullAI

**Проблема:** При открытии раздела FullAI Analytics возникала ошибка 404 Not Found.

**Решение:** Добавлены прокси для всех эндпоинтов аналитики: FullAI, RSI-аудит, AI-переанализ, контекст для ИИ, конфигурация FullAI. Страница аналитики и AI-рекомендации загружаются без ошибок.

---

### ⏱️ Улучшена стабильность загрузки при большом числе ботов

**Проблема:** При большом количестве активных ботов загрузка могла прерываться таймаутом (504 Gateway Timeout).

**Решение:** Увеличен таймаут для загрузки списка ботов с 10 до 30 секунд и для детальной информации — до 30 секунд. Система успевает обработать запросы даже при высокой нагрузке.

---

## Для торговых ботов (Bybit)

### ✅ Отмена ордеров при «order not exists»

**Проблема:** При попытке отменить уже исполненный или истёкший ордер Bybit возвращал ошибку 110001: «order not exists or too late to cancel».

**Решение:** Такая ситуация теперь обрабатывается как успешная отмена: ордер уже отсутствует, дополнительных действий не требуется.

---

### ✅ Лимитные ордера и Stop Loss / Take Profit

**Проблема:** При выставлении лимитных ордеров возникала ошибка 10001: «StopLoss set for Buy position should lower than base_price» — Bybit проверяет SL/TP относительно текущей цены, а не цены лимитки.

**Решение:** Для лимитных ордеров SL и TP больше не передаются при создании — они устанавливаются автоматически после исполнения лимитки, что соответствует логике Bybit.

---

## Для AI и RSI

### ✅ Корректный расчёт RSI

**Проблема:** Все монеты могли показывать нейтральный RSI (50) вместо реальных значений.

**Решение:** Улучшена обработка пустых данных в фильтрах. При временной недоступности RSI-кэша список монет не перезаписывается некорректными значениями.

---

## Рекомендации после обновления

1. **Перезапустите** `app.py` и при необходимости `bots.py`.
2. **Обновите страницу** в браузере (Ctrl+F5 для сброса кэша).
3. Убедитесь, что `bots.py` запущен на порту 5001 — это требуется для работы всех API ботов.

---

*Trading Positions Monitor / InfoBot — февраль 2025*
