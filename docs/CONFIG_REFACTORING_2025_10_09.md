# üîß –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò - 09.10.2025

## üéØ –ü–†–û–ë–õ–ï–ú–ê

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

### –î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:
```
‚ùå bot_engine/bot_config.py - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (RSI, —Å—Ç–∞—Ç—É—Å—ã)
‚ùå bots.py - –¥—É–±–ª–∏—Ä–æ–≤–∞–ª DEFAULT_AUTO_BOT_CONFIG (—Å—Ç—Ä–æ–∫–∏ 95-133)
‚ùå data/auto_bot_config.json - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ñ–∏–≥ (–∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI)
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ - `DEFAULT_AUTO_BOT_CONFIG` –±—ã–ª –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö
2. –ù–µ–ª–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - –∫–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞ –Ω–µ –≤ –ø–∞–ø–∫–µ `bot_engine/`
3. –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ - –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –±—ã–ª–æ –¥–µ–ª–∞—Ç—å –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:
```
‚úÖ bot_engine/bot_config.py - –í–°–ï –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã)
‚úÖ bots.py - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç DEFAULT_AUTO_BOT_CONFIG –∏–∑ bot_engine
‚úÖ data/auto_bot_config.json - —Ç–æ–ª—å–∫–æ runtime state (—Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
```

---

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. **bot_engine/bot_config.py**

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ü–æ–ª–Ω—ã–π `DEFAULT_AUTO_BOT_CONFIG` —Å–æ –í–°–ï–ú–ò –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (long/short thresholds, exit levels)
- –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (stop-loss, trailing stop, break-even)
- –§–∏–ª—å—Ç—Ä—ã (—Ç—Ä–µ–Ω–¥—ã, –∑—Ä–µ–ª–æ—Å—Ç—å)
- **–ù–û–í–û–ï:** RSI –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä

```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Auto Bot –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DEFAULT_AUTO_BOT_CONFIG = {
    'enabled': False,
    'max_concurrent': 5,
    'risk_cap_percent': 10.0,
    'scope': 'all',
    'whitelist': [],
    'blacklist': [],
    # RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    'rsi_long_threshold': 29,
    'rsi_short_threshold': 71,
    'rsi_exit_long': 65,
    'rsi_exit_short': 35,
    # ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ...
    # ‚úÖ –ù–û–í–û–ï: RSI –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä
    'rsi_time_filter_enabled': True,
    'rsi_time_filter_candles': 8,  # 8 —Å–≤–µ—á–µ–π = 2 —Å—É—Ç–æ–∫ –Ω–∞ 6H
}
```

### 2. **bots.py**

**–ë—ã–ª–æ (—Å—Ç—Ä–æ–∫–∏ 95-133):**
```python
DEFAULT_AUTO_BOT_CONFIG = {
    'enabled': False,
    'max_concurrent': 5,
    # ... 38 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞ ...
}
```

**–°—Ç–∞–ª–æ (—Å—Ç—Ä–æ–∫–∏ 96-98):**
```python
# ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–ú –ö–û–ù–§–ò–ì –ò–ó bot_engine/bot_config.py
# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ BOT_ENGINE_DEFAULT_CONFIG
DEFAULT_AUTO_BOT_CONFIG = BOT_ENGINE_DEFAULT_CONFIG
```

**–ò–º–ø–æ—Ä—Ç (—Å—Ç—Ä–æ–∫–∏ 46-51):**
```python
from bot_engine.bot_config import (
    SystemConfig, RiskConfig, FilterConfig, ExchangeConfig,
    RSI_EXTREME_ZONE_TIMEOUT, RSI_EXTREME_OVERSOLD, RSI_EXTREME_OVERBOUGHT,
    RSI_VOLUME_CONFIRMATION_MULTIPLIER, RSI_DIVERGENCE_LOOKBACK,
    DEFAULT_AUTO_BOT_CONFIG as BOT_ENGINE_DEFAULT_CONFIG  # ‚úÖ –ù–û–í–û–ï
)
```

### 3. **data/auto_bot_config.json**

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```json
{
  "rsi_time_filter_enabled": true,
  "rsi_time_filter_candles": 8
}
```

### 4. **check_rsi_time_filter() –≤ bots.py**

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
- –ß–∏—Ç–∞–µ—Ç `rsi_time_filter_enabled` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- –ß–∏—Ç–∞–µ—Ç `rsi_time_filter_candles` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ (–≤–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `8`)
- –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –æ—Ç–∫–ª—é—á–µ–Ω ‚Üí —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Å–¥–µ–ª–∫—É
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –º–∏–Ω–∏–º—É–º —Å–≤–µ—á–µ–π

```python
def check_rsi_time_filter(candles, rsi, signal):
    # –ü–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
    with bots_data_lock:
        rsi_time_filter_enabled = bots_data.get('auto_bot_config', {}).get('rsi_time_filter_enabled', True)
        rsi_time_filter_candles = bots_data.get('auto_bot_config', {}).get('rsi_time_filter_candles', 8)
    
    # –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –æ—Ç–∫–ª—é—á–µ–Ω - —Ä–∞–∑—Ä–µ—à–∞–µ–º —Å–¥–µ–ª–∫—É
    if not rsi_time_filter_enabled:
        return {'allowed': True, 'reason': 'RSI –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä –æ—Ç–∫–ª—é—á–µ–Ω', ...}
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–æ—à–ª–æ –ª–∏ –º–∏–Ω–∏–º—É–º —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π
    if last_extreme_candles_ago >= rsi_time_filter_candles:
        return {'allowed': True, ...}
```

---

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### 1. **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**
- ‚úÖ –í—Å–µ –¥–µ—Ñ–æ–ª—Ç—ã –≤ `bot_engine/bot_config.py`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

### 2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥ –±–æ—Ç–∞ –≤ –ø–∞–ø–∫–µ `bot_engine/`
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å

### 3. **–ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
- ‚úÖ RSI –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è (–Ω–µ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ UI (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)

### 4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏**
- ‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ—Ö –¥–µ—Ñ–æ–ª—Ç–æ–≤
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞
- ‚úÖ –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ |
|----------|-----|-------|
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ bots.py** | 38 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è | 3 —Å—Ç—Ä–æ–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ |
| **–§–∞–π–ª–æ–≤ —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏** | 2 —Ñ–∞–π–ª–∞ | 1 —Ñ–∞–π–ª |
| **–ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏—Å—Ç–∏–Ω—ã** | 2 (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ) | 1 (–µ–¥–∏–Ω—ã–π) |
| **–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ RSI —Ñ–∏–ª—å—Ç—Ä–∞** | 0 (–∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ) | 2 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ) |

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:**
```
bot_engine/
  ‚îú‚îÄ‚îÄ bot_config.py          ‚Üê ‚úÖ –ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –î–ï–§–û–õ–¢–û–í
  ‚îú‚îÄ‚îÄ trading_bot.py
  ‚îú‚îÄ‚îÄ indicators.py
  ‚îî‚îÄ‚îÄ ...

bots.py                       ‚Üê ‚úÖ –ò–ú–ü–û–†–¢–ò–†–£–ï–¢ –ò–ó bot_config.py

data/
  ‚îî‚îÄ‚îÄ auto_bot_config.json    ‚Üê ‚úÖ –¢–û–õ–¨–ö–û RUNTIME STATE
```

**–ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**
- ‚úÖ RSI –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π (2 —Å—É—Ç–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
- ‚úÖ UI —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

**–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**
1. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤ `templates/pages/bots.html`
2. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å JavaScript –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. ‚è≥ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìù –§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´

1. **bot_engine/bot_config.py:**
   - –°—Ç—Ä–æ–∫–∏ 54-91: –†–∞—Å—à–∏—Ä–µ–Ω `DEFAULT_AUTO_BOT_CONFIG`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã `rsi_time_filter_enabled` –∏ `rsi_time_filter_candles`

2. **bots.py:**
   - –°—Ç—Ä–æ–∫–∏ 46-51: –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `DEFAULT_AUTO_BOT_CONFIG`
   - –°—Ç—Ä–æ–∫–∏ 96-98: –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (38 —Å—Ç—Ä–æ–∫ ‚Üí 3 —Å—Ç—Ä–æ–∫–∏)
   - –°—Ç—Ä–æ–∫–∏ 1017-1082: –û–±–Ω–æ–≤–ª–µ–Ω `check_rsi_time_filter()`

3. **data/auto_bot_config.json:**
   - –°—Ç—Ä–æ–∫–∏ 30-31: –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## ‚úÖ –õ–ò–ù–¢–ï–†

```
No linter errors found.
```

**–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´ –£–°–ü–ï–®–ù–û!** üéâ
