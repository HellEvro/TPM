# –ì–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è AI

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –≥–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –¥–∞–Ω–Ω—ã–µ –æ–±—É—á–µ–Ω–∏—è AI —Å–∏—Å—Ç–µ–º—ã.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### 1. **–ú–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã** (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ)

**–ü—É—Ç—å:** `data/ai/models/{SYMBOL}/`

**–ü—Ä–∏–º–µ—Ä:** `data/ai/models/BTCUSDT/`

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- `signal_predictor.pkl` - –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (LONG/SHORT/WAIT)
- `profit_predictor.pkl` - –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
- `scaler.pkl` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö (StandardScaler)
- `metadata.json` - **–í–°–ï –ü–ê–†–ê–ú–ï–¢–†–´ –û–ë–£–ß–ï–ù–ò–Ø** (—Å–º. –Ω–∏–∂–µ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `metadata.json`:**
```json
{
  "symbol": "BTCUSDT",
  "trained_at": "2024-01-15T10:30:00",
  "training_seed": 123456,           // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π seed –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
  "coin_model_seed": 789012,         // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π seed –¥–ª—è —ç—Ç–æ–π –º–æ–Ω–µ—Ç—ã
  "rsi_params": {                    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RSI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏
    "oversold": 29,
    "overbought": 71,
    "exit_long_with_trend": 65,
    "exit_long_against_trend": 60,
    "exit_short_with_trend": 35,
    "exit_short_against_trend": 40
  },
  "candles_count": 2500,             // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
  "previous_candles_count": 2000,    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ–±—É—á–µ–Ω–∏–∏
  "candles_increased": true,         // –£–≤–µ–ª–∏—á–∏–ª–æ—Å—å –ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π
  "trades_count": 150,               // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
  "win_rate": 82.5,                  // Win Rate –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
  "signal_accuracy": 0.87,           // –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ (0-1)
  "profit_mse": 0.023,               // –°—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏
  "total_pnl": 1250.50                // –û–±—â–∏–π PnL –≤ USDT
}
```

### 2. **–ò—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è** (–æ–±—â–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–±—É—á–µ–Ω–∏–π)

**–ü—É—Ç—å:** `data/ai/ai_training_history.json`

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—É—á–µ–Ω–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∞–ª—å–Ω—ã–µ —Å–¥–µ–ª–∫–∏ / –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "trainings": [
    {
      "id": "training_1705312200",
      "timestamp": "2024-01-15T10:30:00",
      "type": "historical_data",
      "coins_processed": 554,
      "models_saved": 450,
      "total_trades": 12500,
      "avg_win_rate": 78.5,
      "total_pnl": 15000.00
    }
  ]
}
```

### 3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –º–æ–Ω–µ—Ç** (–µ—Å–ª–∏ Win Rate >= 80%)

**–ü—É—Ç—å:** –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ API `bots.py` –≤ `bots_modules/imports_and_globals.py`

**–§–∞–π–ª:** `data/bot_configs/individual_settings.json` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
- Stop Loss, Take Profit
- Trailing Stop (–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
- Break Even (—Ç—Ä–∏–≥–≥–µ—Ä)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "BTCUSDT": {
    "rsi_long_entry": 28,
    "rsi_short_entry": 72,
    "rsi_long_exit_with_trend": 66,
    "rsi_long_exit_against_trend": 61,
    "rsi_short_exit_with_trend": 34,
    "rsi_short_exit_against_trend": 39,
    "stop_loss": 12.5,
    "take_profit": 20.0,
    "trailing_stop_activation": 18.0,
    "trailing_stop_distance": 12.0,
    "break_even_trigger": 75.0,
    "optimization_win_rate": 82.5,
    "optimized_at": "2024-01-15T10:30:00"
  }
}
```

### 4. **–†–µ—à–µ–Ω–∏—è AI –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** (–¥–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è)

**–ü—É—Ç—å:** `data/ai/ai_decisions_tracking.json`

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –í—Å–µ —Ä–µ—à–µ–Ω–∏—è AI (—Å–∏–≥–Ω–∞–ª—ã LONG/SHORT/WAIT)
- –†—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –º–æ–º–µ–Ω—Ç —Ä–µ—à–µ–Ω–∏—è
- –†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–¥–µ–ª–æ–∫ (PnL, ROI)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–ø—ã—Ç–∞

### 5. **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

**–ü—É—Ç—å:** `data/ai/ai_performance_metrics.json`

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –û–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å AI
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç–µ

### 6. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞**

**–ü—É—Ç—å:** `data/ai/backtest_results/backtest_YYYYMMDD_HHMMSS.json`

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞ (Win Rate, PnL, Return)
- –ü–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–Ω–µ—Ç—ã:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—É—á–µ–Ω–∏—è
cat data/ai/models/BTCUSDT/metadata.json

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–∏
ls data/ai/models/BTCUSDT/
```

### –î–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç:
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç
ls data/ai/models/

# –ù–∞–π—Ç–∏ –º–æ–Ω–µ—Ç—ã —Å Win Rate >= 80%
# (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å metadata.json –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã)
```

### –ò—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –æ–±—É—á–µ–Ω–∏–π
cat data/ai/ai_training_history.json
```

## üìä –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ú–æ–¥–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ** - –≤ `data/ai/models/{SYMBOL}/`
2. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –í–°–ï –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è** - seed, RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –º–µ—Ç—Ä–∏–∫–∏
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ Win Rate >= 80%**
4. **–ò—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ** - –≤ `ai_training_history.json`
5. **–ö–∞–∂–¥–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π seed** - –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏

## üîÑ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è –º–æ–Ω–µ—Ç—ã:
```python
import joblib
import json

symbol = "BTCUSDT"
models_dir = f"data/ai/models/{symbol}"

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª–∏
signal_model = joblib.load(f"{models_dir}/signal_predictor.pkl")
profit_model = joblib.load(f"{models_dir}/profit_predictor.pkl")
scaler = joblib.load(f"{models_dir}/scaler.pkl")

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
with open(f"{models_dir}/metadata.json", 'r') as f:
    metadata = json.load(f)
    
print(f"Win Rate: {metadata['win_rate']}%")
print(f"RSI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: {metadata['rsi_params']}")
```

### –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–±—É—á–µ–Ω–∏—è:
```python
from bot_engine.ai.ai_data_storage import AIDataStorage

storage = AIDataStorage()
history = storage.get_training_history(limit=10)

for training in history:
    print(f"{training['timestamp']}: {training['coins_processed']} –º–æ–Ω–µ—Ç, Win Rate: {training.get('avg_win_rate', 0)}%")
```

