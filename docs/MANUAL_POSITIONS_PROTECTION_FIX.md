# üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –†–£–ß–ù–´–• –ü–û–ó–ò–¶–ò–ô - –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

**–î–∞—Ç–∞:** 09 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≤—Ç–æ–±–æ—Ç —Å–æ–∑–¥–∞–≤–∞–ª –±–æ—Ç–æ–≤ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä—É—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–æ—Ç–æ–≤

---

## üö® –ü–†–û–ë–õ–ï–ú–ê

–ê–≤—Ç–æ–±–æ—Ç —Å–æ–∑–¥–∞–≤–∞–ª –±–æ—Ç–æ–≤ –¥–ª—è –º–æ–Ω–µ—Ç, —É –∫–æ—Ç–æ—Ä—ã—Ö —É–∂–µ –±—ã–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã —Ä—É—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `check_trading_rules_activation()`, –∫–æ—Ç–æ—Ä–∞—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞ –ø—Ä–∞–≤–∏–ª–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∑—Ä–µ–ª—ã—Ö –º–æ–Ω–µ—Ç –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:
```
[TRADING_RULES] üéØ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è BTC (–Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∞—Å—å 6 –º–∏–Ω)
[TRADING_RULES] ‚úÖ –°–æ–∑–¥–∞–Ω –±–æ—Ç –¥–ª—è BTC
```
–ü—Ä–∏ —ç—Ç–æ–º –Ω–∞ –±–∏—Ä–∂–µ —É–∂–µ –±—ã–ª–∞ —Ä—É—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ BTC!

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

–î–æ–±–∞–≤–ª–µ–Ω–∞ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –±–∏—Ä–∂–µ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–æ—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `check_trading_rules_activation()`.

### –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```python
# –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
has_existing_position = False
try:
    if ensure_exchange_initialized():
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ –¥–ª—è —ç—Ç–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
        positions_response = exchange.client.get_positions(
            category="linear",
            symbol=f"{symbol}USDT"
        )
        
        if positions_response.get('retCode') == 0:
            positions = positions_response['result']['list']
            for pos in positions:
                pos_symbol = pos.get('symbol', '')
                if pos_symbol == f"{symbol}USDT":
                    size = float(pos.get('size', 0))
                    if abs(size) > 0:  # –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                        has_existing_position = True
                        side = 'LONG' if pos.get('side') == 'Buy' else 'SHORT'
                        logger.warning(f"[TRADING_RULES] üö´ {symbol}: –ù–ê –ë–ò–†–ñ–ï –£–ñ–ï –ï–°–¢–¨ –ü–û–ó–ò–¶–ò–Ø {side} —Ä–∞–∑–º–µ—Ä {size} - –ù–ï –°–û–ó–î–ê–ï–ú –ë–û–¢–ê!")
                        break
except Exception as check_error:
    logger.error(f"[TRADING_RULES] ‚ö†Ô∏è {symbol}: –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –±–∏—Ä–∂–µ: {check_error}")
    # –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ - –ù–ï —Å–æ–∑–¥–∞–µ–º –±–æ—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    has_existing_position = True

if has_existing_position:
    logger.info(f"[TRADING_RULES] ‚è≠Ô∏è {symbol}: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ - –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è –Ω–∞ –±–∏—Ä–∂–µ")
    continue
```

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ù–´–ï –ú–ï–•–ê–ù–ò–ó–ú–´

### 1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–π –Ω–∞ –±–∏—Ä–∂–µ**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –í–°–ï –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Å–∏–º–≤–æ–ª–∞
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –õ–Æ–ë–û–ô –ø–æ–∑–∏—Ü–∏–∏ (LONG –∏–ª–∏ SHORT)

### 2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö**
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∏—Ü–∏–π - –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–æ—Ç (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### 3. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—Ç–æ—Ä–æ–Ω—ã –∏ —Ä–∞–∑–º–µ—Ä–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
[TRADING_RULES] üéØ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è BTC
[TRADING_RULES] ‚úÖ –°–æ–∑–¥–∞–Ω –±–æ—Ç –¥–ª—è BTC  ‚Üê –ü–†–û–ë–õ–ï–ú–ê!
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
[TRADING_RULES] üéØ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è BTC
[TRADING_RULES] üö´ BTC: –ù–ê –ë–ò–†–ñ–ï –£–ñ–ï –ï–°–¢–¨ –ü–û–ó–ò–¶–ò–Ø LONG —Ä–∞–∑–º–µ—Ä 0.5 - –ù–ï –°–û–ó–î–ê–ï–ú –ë–û–¢–ê!
[TRADING_RULES] ‚è≠Ô∏è BTC: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ - –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è –Ω–∞ –±–∏—Ä–∂–µ
```

---

## üîí –ì–ê–†–ê–ù–¢–ò–ò

- **üö´ –ê–≤—Ç–æ–±–æ—Ç –ù–ï —Å–æ–∑–¥–∞—Å—Ç –±–æ—Ç–æ–≤** –¥–ª—è –º–æ–Ω–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏
- **üõ°Ô∏è –í–∞—à–∏ —Ä—É—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã** –æ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∞–≤—Ç–æ–±–æ—Ç–∞
- **‚ö° –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ** –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∏—Ü–∏–π
- **üìù –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è** –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä—É—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∏—Ä–∂—É –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–æ—Ç–æ–≤ –∏ –∑–∞—â–∏—â–∞–µ—Ç –≤–∞—à–∏ —Ä—É—á–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –æ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∞–≤—Ç–æ–±–æ—Ç–∞.

**–í–∞—à–∏ —Ä—É—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—â–∏—â–µ–Ω—ã!** üéâ
