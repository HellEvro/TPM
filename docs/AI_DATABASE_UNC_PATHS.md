# Работа AI системы с UNC путями

## Поддержка сетевых путей

AI система полностью поддерживает работу с UNC путями (сетевыми путями Windows).

### Пример использования

```bash
# Запуск с локальной директории
cd E:\Drive\TRADEBOT\InfoBot
python ai.py --mode train

# Запуск с сетевого пути
cd \\Evromini\projects\InfoBot
python ai.py --mode train
```

### Как это работает

1. **Автоматическое определение рабочей директории**
   - Система использует `os.getcwd()` для определения текущей рабочей директории
   - Все относительные пути (например, `data/ai/ai_data.db`) автоматически преобразуются в абсолютные пути относительно текущей директории

2. **Поддержка UNC путей**
   - SQLite и Python полностью поддерживают UNC пути
   - Пути вида `\\Server\Share\Path` обрабатываются корректно
   - Файлы БД создаются и читаются с сетевых дисков без проблем

3. **Структура данных**
   - БД создается в `data/ai/ai_data.db` относительно рабочей директории
   - Все остальные файлы (модели, кэши) также используют относительные пути

### Важные замечания

⚠️ **Производительность**
- Работа с БД по сети может быть медленнее, чем локально
- Рекомендуется использовать локальный диск для активной работы
- Сетевой путь подходит для запуска обучения на сервере

⚠️ **Доступ к сети**
- Убедитесь, что у вас есть права доступа к сетевой папке
- Проверьте, что путь доступен: `dir \\Evromini\projects\InfoBot`

⚠️ **Блокировки файлов**
- SQLite использует файловые блокировки для обеспечения целостности
- При работе по сети возможны задержки из-за сетевых блокировок
- Не рекомендуется одновременный доступ к одной БД с разных машин

### Тестирование

Для проверки работы с UNC путями:

```bash
# 1. Проверка доступности пути
python -c "import os; print(os.path.exists(r'\\Evromini\projects\InfoBot'))"

# 2. Запуск тестов БД
python scripts/test_ai_database.py

# 3. Проверка инициализации БД
python -c "from bot_engine.ai.ai_database import get_ai_database; db = get_ai_database(); print(db.db_path)"
```

### Примеры использования

#### Локальный запуск
```bash
cd E:\Drive\TRADEBOT\InfoBot
python ai.py --mode train
```

#### Запуск с сервера
```bash
cd \\Evromini\projects\InfoBot
python ai.py --mode train
```

#### Смешанный режим (локальный запуск, данные с сервера)
```bash
# На локальной машине
cd E:\Drive\TRADEBOT\InfoBot

# Монтируем сетевой диск или используем прямой путь
# В коде можно указать явный путь к БД:
python -c "from bot_engine.ai.ai_database import AIDatabase; db = AIDatabase(r'\\Evromini\projects\InfoBot\data\ai\ai_data.db')"
```

### Структура файлов

При запуске с любой директории структура остается одинаковой:

```
[рабочая_директория]/
├── ai.py                    # Главный скрипт
├── bot_engine/
│   └── ai/
│       └── ai_database.py   # Модуль БД
├── data/
│   └── ai/
│       └── ai_data.db       # База данных (создается автоматически)
└── ...
```

Все пути относительно рабочей директории, поэтому система работает одинаково локально и по сети.

