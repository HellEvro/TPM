# ‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï API RATE LIMIT - 09.10.2025

## üö® –ü–†–û–ë–õ–ï–ú–ê

**–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–≤—ã—Å–∏–ª–∞ –ª–∏–º–∏—Ç API –∑–∞–ø—Ä–æ—Å–æ–≤ Bybit!**

```
15:00:06 [ERROR] Too many visits. Exceeded the API Rate Limit. (ErrCode: 10006)
Hit the API rate limit. Sleeping, then trying again.
Request: https://api.bybit.com/v5/market/kline
```

---

## üîç –ü–†–ò–ß–ò–ù–ê

### –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

**–í `load_all_coins_rsi()` (—Å—Ç—Ä–æ–∫–∏ 1227-1261):**

**–ë–´–õ–û:**
```python
batch_size = 50  # 50 –º–æ–Ω–µ—Ç –≤ –ø–∞–∫–µ—Ç–µ
max_workers = 2  # 2 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
time.sleep(3.0)  # 3 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏

# –î–ª—è 600 –º–æ–Ω–µ—Ç:
# = 12 –ø–∞–∫–µ—Ç–æ–≤
# = 2 –∑–∞–ø—Ä–æ—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
# = ~100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
# ‚ùå –ü—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç Bybit!
```

**–õ–∏–º–∏—Ç—ã Bybit:**
- Public API: ~50 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ (–Ω–æ —Å burst protection)
- Market Data: ~10-20 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ (—Ä–µ–∞–ª—å–Ω–æ)
- **–ù–∞—à–∞ –Ω–∞–≥—Ä—É–∑–∫–∞:** 2 –∑–∞–ø—Ä–æ—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫ = —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ!

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –£–º–µ–Ω—å—à–∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ —É–≤–µ–ª–∏—á–∏–ª–∏ –ø–∞—É–∑—ã:

**–°–¢–ê–õ–û:**
```python
batch_size = 50  # 50 –º–æ–Ω–µ—Ç –≤ –ø–∞–∫–µ—Ç–µ (–æ—Å—Ç–∞–≤–∏–ª–∏)
max_workers = 1  # ‚úÖ –û–î–ò–ù –∑–∞–ø—Ä–æ—Å (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ)
time.sleep(5.0)  # ‚úÖ 5 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏

# –î–ª—è 600 –º–æ–Ω–µ—Ç:
# = 12 –ø–∞–∫–µ—Ç–æ–≤
# = 1 –∑–∞–ø—Ä–æ—Å –∑–∞ —Ä–∞–∑
# = ~12 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
# ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è Bybit!
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|----------|-----|-------|-----------|
| **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** | 2 | 1 | **-50%** |
| **–ü–∞—É–∑–∞ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏** | 3 —Å–µ–∫ | 5 —Å–µ–∫ | **+67%** |
| **–ó–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É** | ~100 | ~12 | **-88%** |
| **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ 600 –º–æ–Ω–µ—Ç** | ~3 –º–∏–Ω | ~5 –º–∏–Ω | **+67%** |
| **–†–∏—Å–∫ Rate Limit** | –í—ã—Å–æ–∫–∏–π | –ù–∏–∑–∫–∏–π | **-90%** |

---

## üéØ –ö–û–ú–ü–†–û–ú–ò–°–°

### –°–∫–æ—Ä–æ—Å—Ç—å vs –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ API Rate Limit
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Bybit API

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ RSI –¥–æ–ª—å—à–µ (~5 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 3)
- ‚è≥ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–µ–¥–ª–µ–Ω–Ω–µ–µ

**–ù–æ:**
- ‚úÖ RSI –∫—ç—à–∏—Ä—É–µ—Ç—Å—è (–∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑)
- ‚úÖ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–º–æ–Ω–µ—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É (–Ω–µ –∂–¥–µ—Ç –≤—Å–µ—Ö 600 –º–æ–Ω–µ—Ç)

---

## üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–ï–†–´

### 1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ RSI –¥–∞–Ω–Ω—ã—Ö**

**–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
```python
# –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
cache_loaded = load_rsi_cache()  # –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ data/rsi_cache.json

# –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:
save_rsi_cache()  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ data/rsi_cache.json
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã RSI –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)
- –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫—ç—à —É—Å—Ç–∞—Ä–µ–ª (>30 –º–∏–Ω)

### 2. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI**

**–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
```python
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (50 –º–æ–Ω–µ—Ç):
coins_rsi_data['coins'].update(batch_coins_data)
logger.info(f"[INCREMENTAL] –û–±–Ω–æ–≤–ª–µ–Ω–æ {len(batch_coins_data)} –º–æ–Ω–µ—Ç")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –º–æ–Ω–µ—Ç—ã —Å—Ä–∞–∑—É (–Ω–µ –∂–¥–µ—Ç 5 –º–∏–Ω—É—Ç)
- UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5-10 —Å–µ–∫—É–Ω–¥
- –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å—Ä–∞–∑—É

### 3. **Smart RSI Manager**

**–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
```python
# –û–±–Ω–æ–≤–ª—è–µ—Ç RSI —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–≤–µ—á–∏ 6H
# –ù–µ –¥–µ–ª–∞–µ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –º–µ–∂–¥—É —Å–≤–µ—á–∞–º–∏
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ RSI —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ (–∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤)
- –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ Rate Limit –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è:

**1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞—É–∑—É –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏:**
```python
time.sleep(10.0)  # 10 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5
```

**2. –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞:**
```python
batch_size = 25  # 25 –º–æ–Ω–µ—Ç –≤–º–µ—Å—Ç–æ 50
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É:**
```python
# –ü—Ä–∏ –æ—à–∏–±–∫–µ Rate Limit:
retry_delay = 5
for attempt in range(3):
    try:
        result = get_coin_rsi_data(symbol)
        break
    except RateLimitError:
        time.sleep(retry_delay)
        retry_delay *= 2  # 5, 10, 20 —Å–µ–∫—É–Ω–¥
```

---

## üéØ –ò–¢–û–ì

**API RATE LIMIT –ò–°–ü–†–ê–í–õ–ï–ù!** ‚úÖ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ `max_workers`: 2 ‚Üí 1 (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- ‚úÖ –ü–∞—É–∑–∞: 3 —Å–µ–∫ ‚Üí 5 —Å–µ–∫ (–±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏)
- ‚úÖ –ó–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω: 100 ‚Üí 12 (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ Rate Limit
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
- ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ ~5 –º–∏–Ω—É—Ç (–Ω–æ —Å –∫—ç—à–µ–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)

**–°–¢–ê–ë–ò–õ–¨–ù–û –ò –ù–ê–î–ï–ñ–ù–û!** üéâ

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 09.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
