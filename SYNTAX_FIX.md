# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

**–û—à–∏–±–∫–∞:** `SyntaxError: name 'coins_rsi_data' is used prior to global declaration`

**–§–∞–π–ª:** `bots_modules/sync_and_cache.py`  
**–°—Ç—Ä–æ–∫–∞:** 287

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `coins_rsi_data` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –Ω–∞ —Å—Ç—Ä–æ–∫–µ 250 –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `try`, –Ω–æ `global coins_rsi_data` –±—ã–ª –æ–±—ä—è–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 287. –í Python –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–æ –µ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `global`.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª –æ–±—ä—è–≤–ª–µ–Ω–∏–µ `global coins_rsi_data` –≤ –Ω–∞—á–∞–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ `save_rsi_cache()` (—Å—Ç—Ä–æ–∫–∞ 239), –ø–µ—Ä–µ–¥ –ª—é–±—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

**–î–æ:**
```python
def save_rsi_cache():
    """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫—ç—à RSI –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª"""
    try:
        # ...
        if optimizer.enabled:
            global coins_rsi_data  # ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 250
            coins_data = coins_rsi_data.get('coins', {})
        # ...
        global coins_rsi_data  # ‚ùå –û–±—ä—è–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 287 (—Å–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ!)
        coins_data = coins_rsi_data.get('coins', {})
```

**–ü–æ—Å–ª–µ:**
```python
def save_rsi_cache():
    """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫—ç—à RSI –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª"""
    global coins_rsi_data  # ‚úÖ –û–±—ä—è–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏
    try:
        # ...
        if optimizer.enabled:
            coins_data = coins_rsi_data.get('coins', {})  # ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
        # ...
        coins_data = coins_rsi_data.get('coins', {})  # ‚úÖ –ò –∑–¥–µ—Å—å —Ç–æ–∂–µ
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

---

## üìù –£—Ä–æ–∫

–í Python –ø—Ä–∞–≤–∏–ª–æ: **–≤—Å–µ–≥–¥–∞ –æ–±—ä—è–≤–ª—è–π—Ç–µ `global` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏**, –¥–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

